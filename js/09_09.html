<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‚˜ë§Œì˜ í•  ì¼ ê´€ë¦¬ ì•±</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .app-container {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .input-section {
            display: flex;
            margin-bottom: 20px;
        }
        #todoInput {
            flex: 1;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        #addBtn {
            padding: 12px 20px;
            margin-left: 10px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .todo-item {
            display: flex;
            align-items: center;
            padding: 15px;
            margin: 10px 0;
            background: #f8f9fa;
            border-radius: 5px;
            border-left: 4px solid #007bff;
        }
        .todo-item.completed {
            opacity: 0.6;
            text-decoration: line-through;
            border-left-color: #28a745;
        }
        .todo-text {
            flex: 1;
            margin: 0 15px;
        }
        .btn {
            padding: 8px 12px;
            margin: 0 5px;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }
        .btn-complete { background: #28a745; color: white; }
        .btn-delete { background: #dc3545; color: white; }
    </style>
</head>
<body>
    <div class="app-container">
        <h1>ğŸ“ ë‚˜ë§Œì˜ í•  ì¼ ê´€ë¦¬</h1>
        <div class="input-section">
            <input type="text" id="todoInput" placeholder="í•  ì¼ì„ ì…ë ¥í•˜ì„¸ìš”...">
            <button id="addBtn">ì¶”ê°€</button>
        </div>
        <div id="todoList"></div>
        <div id="stats"></div>
    </div>

    <script>
        // í•  ì¼ ê´€ë¦¬ ê°ì²´
const TodoManager = {
    // ë°ì´í„° ì €ì¥ì†Œ
    todos: [],
    nextId: 1,

    // í•  ì¼ ì¶”ê°€ í•¨ìˆ˜
    addTodo: function(text) {
        if (!text || text.trim() === '') {
            alert('í•  ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!');
            return false;
        }

        const newTodo = {
            id: this.nextId++,
            text: text.trim(),
            completed: false,
            createdAt: new Date()
        };

        this.todos.push(newTodo);
        this.renderTodos();
        this.updateStats();
        return true;
    },

    // í•  ì¼ ì™„ë£Œ/ë¯¸ì™„ë£Œ í† ê¸€
    toggleTodo: function(id) {
        const todo = this.todos.find(todo => todo.id === id);
        if (todo) {
            todo.completed = !todo.completed;
            this.renderTodos();
            this.updateStats();
        }
    },

    // í•  ì¼ ì‚­ì œ
    deleteTodo: function(id) {
        if (confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
            this.todos = this.todos.filter(todo => todo.id !== id);
            this.renderTodos();
            this.updateStats();
        }
    },

    // í•  ì¼ ëª©ë¡ í™”ë©´ì— í‘œì‹œ
    renderTodos: function() {
        const todoList = document.getElementById('todoList');

        if (this.todos.length === 0) {
            todoList.innerHTML = '<p style="text-align: center; color: #666;">ì•„ì§ í•  ì¼ì´ ì—†ìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ í•  ì¼ì„ ì¶”ê°€í•´ë³´ì„¸ìš”!</p>';
            return;
        }

        let html = '';
        this.todos.forEach(todo => {
            html += `
                <div class="todo-item ${todo.completed ? 'completed' : ''}">
                    <span class="todo-text">${todo.text}</span>
                    <button class="btn btn-complete" onclick="TodoManager.toggleTodo(${todo.id})">
                        ${todo.completed ? 'ì·¨ì†Œ' : 'ì™„ë£Œ'}
                    </button>
                    <button class="btn btn-delete" onclick="TodoManager.deleteTodo(${todo.id})">
                        ì‚­ì œ
                    </button>
                </div>
            `;
        });

        todoList.innerHTML = html;
    },

    // í†µê³„ ì •ë³´ ì—…ë°ì´íŠ¸
    updateStats: function() {
        const total = this.todos.length;
        const completed = this.todos.filter(todo => todo.completed).length;
        const remaining = total - completed;

        const statsDiv = document.getElementById('stats');
        statsDiv.innerHTML = `
            <div style="margin-top: 20px; padding: 15px; background: #e9ecef; border-radius: 5px;">
                <strong>ğŸ“Š í˜„í™©:</strong>
                ì „ì²´ ${total}ê°œ | ì™„ë£Œ ${completed}ê°œ | ë‚¨ì€ ì¼ ${remaining}ê°œ
            </div>
        `;
    },

    // ì´ˆê¸°í™” í•¨ìˆ˜
    init: function() {
        // ì¶”ê°€ ë²„íŠ¼ ì´ë²¤íŠ¸
        document.getElementById('addBtn').addEventListener('click', () => {
            const input = document.getElementById('todoInput');
            if (this.addTodo(input.value)) {
                input.value = '';
            }
        });

        // ì—”í„°í‚¤ ì´ë²¤íŠ¸
        document.getElementById('todoInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const input = document.getElementById('todoInput');
                if (this.addTodo(input.value)) {
                    input.value = '';
                }
            }
        });

        // ì´ˆê¸° í™”ë©´ ë Œë”ë§
        this.renderTodos();
        this.updateStats();
    }
};

// í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ í›„ ì•± ì‹œì‘
document.addEventListener('DOMContentLoaded', function() {
    TodoManager.init();
});
// TodoManager ê°ì²´ì— ì €ì¥/ë¡œë“œ ê¸°ëŠ¥ ì¶”ê°€
TodoManager.saveToStorage = function() {
    localStorage.setItem('myTodos', JSON.stringify({
        todos: this.todos,
        nextId: this.nextId
    }));
};

TodoManager.loadFromStorage = function() {
    const saved = localStorage.getItem('myTodos');
    if (saved) {
        const data = JSON.parse(saved);
        this.todos = data.todos || [];
        this.nextId = data.nextId || 1;

        // ë‚ ì§œ ê°ì²´ ë³µì›
        this.todos.forEach(todo => {
            todo.createdAt = new Date(todo.createdAt);
        });
    }
};

// ê¸°ì¡´ í•¨ìˆ˜ë“¤ ìˆ˜ì • (ì €ì¥ ê¸°ëŠ¥ ì¶”ê°€)
const originalAddTodo = TodoManager.addTodo;
TodoManager.addTodo = function(text) {
    const result = originalAddTodo.call(this, text);
    if (result) this.saveToStorage();
    return result;
};

const originalToggleTodo = TodoManager.toggleTodo;
TodoManager.toggleTodo = function(id) {
    originalToggleTodo.call(this, id);
    this.saveToStorage();
};

const originalDeleteTodo = TodoManager.deleteTodo;
TodoManager.deleteTodo = function(id) {
    originalDeleteTodo.call(this, id);
    this.saveToStorage();
};

// init í•¨ìˆ˜ ìˆ˜ì •
const originalInit = TodoManager.init;
TodoManager.init = function() {
    this.loadFromStorage(); // ì €ì¥ëœ ë°ì´í„° ë¡œë“œ
    originalInit.call(this);
};

    </script>
</body>
</html>
